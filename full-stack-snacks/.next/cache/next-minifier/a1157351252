{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{\"4Smr\":function(e,n,t){\"use strict\";t.r(n),function(e){t.d(n,\"register\",(function(){return a})),t.d(n,\"unregister\",(function(){return i}));var r=Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function a(n){if(\"serviceWorker\"in navigator){if(new URL(e.env.PUBLIC_URL,window.location.href).origin!==window.location.origin)return;window.addEventListener(\"load\",(function(){var t=\"\".concat(e.env.PUBLIC_URL,\"/service-worker.js\");r?(!function(e,n){fetch(e,{headers:{\"Service-Worker\":\"script\"}}).then((function(t){var r=t.headers.get(\"content-type\");404===t.status||null!=r&&-1===r.indexOf(\"javascript\")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):o(e,n)})).catch((function(){console.log(\"No internet connection found. App is running in offline mode.\")}))}(t,n),navigator.serviceWorker.ready.then((function(){console.log(\"This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA\")}))):o(t,n)}))}}function o(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){\"installed\"===t.state&&(navigator.serviceWorker.controller?(console.log(\"New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA.\"),n&&n.onUpdate&&n.onUpdate(e)):(console.log(\"Content is cached for offline use.\"),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error(\"Error during service worker registration:\",e)}))}function i(){\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}}.call(this,t(\"8oxB\"))},\"6BQ9\":function(e,n,t){e.exports=t(\"VKpo\")},Fuct:function(e,n,t){var r=t(\"0T/a\"),a=t(\"dwSY\");r(r.G+r.F*(parseInt!=a),{parseInt:a})},RQzK:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/src\",function(){return t(\"taSG\")}])},VKpo:function(e,n,t){t(\"Fuct\"),e.exports=t(\"p9MR\").parseInt},Yzr4:function(e,n,t){var r=t(\"0T/a\"),a=t(\"5foh\"),o=t(\"14Ie\"),i=t(\"cCpf\"),s=\"[\"+i+\"]\",c=RegExp(\"^\"+s+s+\"*\"),l=RegExp(s+s+\"*$\"),u=function(e,n,t){var a={},s=o((function(){return!!i[e]()||\"\\u200b\\x85\"!=\"\\u200b\\x85\"[e]()})),c=a[e]=s?n(d):i[e];t&&(a[t]=c),r(r.P+r.F*s,\"String\",a)},d=u.trim=function(e,n){return e=String(a(e)),1&n&&(e=e.replace(c,\"\")),2&n&&(e=e.replace(l,\"\")),e};e.exports=u},a59Y:function(e,n,t){\"use strict\";t.r(n),t.d(n,\"default\",(function(){return y}));var r=t(\"6BQ9\"),a=t.n(r),o=t(\"ln6h\"),i=t.n(o),s=t(\"0iUn\"),c=t(\"sLSF\"),l=t(\"MI3g\"),u=t(\"a7VT\"),d=t(\"AT/M\"),f=t(\"Tit0\"),h=t(\"q1tI\"),p=t.n(h),v=t(\"vDqi\"),k=t.n(v),g=t(\"Y3F2\"),w=t(\"Ty5D\"),b=t(\"55Ip\"),m=t(\"qczZ\"),H=t(\"jnHE\"),S=(t(\"0gV5\"),p.a.createElement),y=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(u.a)(n).call(this,e))).state={accessToken:\"\",refreshToken:\"\",snacks:null},t.renderSnackDetail=t.renderSnackDetail.bind(Object(d.a)(t)),t.formHandler=t.formHandler.bind(Object(d.a)(t)),t.deleteHandler=t.deleteHandler.bind(Object(d.a)(t)),t.updateHandler=t.updateHandler.bind(Object(d.a)(t)),t.loginHandler=t.loginHandler.bind(Object(d.a)(t)),t}return Object(f.a)(n,e),Object(c.a)(n,[{key:\"loginHandler\",value:function(e){var n,t,r,a;return i.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n=e.access,t=e.refresh,this.setState({accessToken:n,refreshToken:t}),o.prev=2,r={headers:{Authorization:\"Bearer \".concat(this.state.accessToken)}},o.next=6,i.a.awrap(k.a.get(\"http://167.172.203.221:8000/api/v1/\",r));case 6:a=o.sent,console.log(a.data),this.setState({snacks:a.data}),o.next=14;break;case 11:o.prev=11,o.t0=o.catch(2),console.error(\"ruhroh\");case 14:case\"end\":return o.stop()}}),null,this,[[2,11]])}},{key:\"renderSnackDetail\",value:function(e){if(!this.state.accessToken)return S(w.a,{to:\"/\"});var n=a()(e.match.params.id),t=this.state.snacks&&this.state.snacks.find((function(e){return e.id===n}));return console.log(\"trying to render {snack}: \",t),t?S(m.default,{snack:t,doneHandler:this.updateHandler,deleteHandler:this.deleteHandler}):S(w.a,{to:\"/\"})}},{key:\"formHandler\",value:function(e){var n,t;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:n=e,(t=this.state.snacks).push(n),this.setState({snacks:t});case 4:case\"end\":return r.stop()}}),null,this)}},{key:\"updateHandler\",value:function(e){return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:console.log(\"input update: \",e),this.setState({snacks:this.state.snacks.map((function(n){return n.id===e.id?e:n}))});case 2:case\"end\":return n.stop()}}),null,this)}},{key:\"deleteHandler\",value:function(e){var n,t;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:n=e.target.value,console.log(\"should be id: \",n),t=this.state.snacks.filter((function(e){return e.id!==Number(n)})),this.setState({snacks:t});case 4:case\"end\":return r.stop()}}),null,this)}},{key:\"render\",value:function(){return S(b.a,null,S(\"h1\",null,\"Hello World\"),S(w.d,null,S(w.b,{exact:!0,path:\"/\"},this.state.snacks?S(H.default,{snacks:this.state.snacks,doneHandler:this.formHandler}):S(g.default,{onSuccess:this.loginHandler})),S(w.b,{path:\"/:id\",render:this.renderSnackDetail})))}}]),n}(p.a.Component)},cCpf:function(e,n){e.exports=\"\\t\\n\\v\\f\\r \\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029\\ufeff\"},dwSY:function(e,n,t){var r=t(\"2jw7\").parseInt,a=t(\"Yzr4\").trim,o=t(\"cCpf\"),i=/^[-+]?0[xX]/;e.exports=8!==r(o+\"08\")||22!==r(o+\"0x16\")?function(e,n){var t=a(String(e),3);return r(t,n>>>0||(i.test(t)?16:10))}:r},jnHE:function(e,n,t){\"use strict\";t.r(n);var r=t(\"q1tI\"),a=t.n(r),o=t(\"55Ip\"),i=t(\"0gV5\"),s=a.a.createElement;function c(e){return s(\"li\",null,s(o.b,{to:\"/\".concat(e.snack.id)},s(\"p\",null,e.snack.title)))}n.default=function(e){return s(a.a.Fragment,null,s(\"ul\",null,e.snacks.map((function(e){return s(c,{key:e.id,snack:e})}))),s(i.default,{name:\"\",desc:\"\",doneHandler:e.doneHandler}))}},qczZ:function(e,n,t){\"use strict\";t.r(n);var r=t(\"q1tI\"),a=t.n(r),o=t(\"55Ip\"),i=t(\"0gV5\"),s=a.a.createElement;n.default=function(e){return s(a.a.Fragment,null,s(o.b,{to:\"/\"},\"Home\"),s(\"p\",null,\"ID: \",e.snack.id),s(\"p\",null,\"SNACK: \",e.snack.title),s(\"p\",null,\"DESCRIPTION: \",e.snack.description),s(\"button\",{onClick:e.deleteHandler,value:e.snack.id},\"delete\"),s(i.default,{idNum:e.snack.id,name:e.snack.title,desc:e.snack.description,doneHandler:e.doneHandler}))}},taSG:function(e,n,t){\"use strict\";t.r(n);var r=t(\"q1tI\"),a=t.n(r),o=t(\"i8i4\"),i=t.n(o),s=t(\"a59Y\"),c=t(\"4Smr\"),l=a.a.createElement;i.a.render(l(s.default,null),document.getElementById(\"root\")),c.unregister()}},[[\"RQzK\",0,2,1,3,4,5]]]);"}