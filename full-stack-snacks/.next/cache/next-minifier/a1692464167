{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{\"4Smr\":function(e,n,s){\"use strict\";s.r(n),function(e){s.d(n,\"register\",(function(){return t})),s.d(n,\"unregister\",(function(){return l}));var a=Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function t(n){if(\"serviceWorker\"in navigator){if(new URL(e.env.PUBLIC_URL,window.location.href).origin!==window.location.origin)return;window.addEventListener(\"load\",(function(){var s=\"\".concat(e.env.PUBLIC_URL,\"/service-worker.js\");a?(!function(e,n){fetch(e,{headers:{\"Service-Worker\":\"script\"}}).then((function(s){var a=s.headers.get(\"content-type\");404===s.status||null!=a&&-1===a.indexOf(\"javascript\")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):r(e,n)})).catch((function(){console.log(\"No internet connection found. App is running in offline mode.\")}))}(s,n),navigator.serviceWorker.ready.then((function(){console.log(\"This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA\")}))):r(s,n)}))}}function r(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var s=e.installing;null!=s&&(s.onstatechange=function(){\"installed\"===s.state&&(navigator.serviceWorker.controller?(console.log(\"New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA.\"),n&&n.onUpdate&&n.onUpdate(e)):(console.log(\"Content is cached for offline use.\"),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error(\"Error during service worker registration:\",e)}))}function l(){\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}}.call(this,s(\"8oxB\"))},\"6BQ9\":function(e,n,s){e.exports=s(\"VKpo\")},EQZF:function(e,n){throw new Error(\"Module build failed: Error: Final loader (./node_modules/next/dist/build/webpack/loaders/error-loader.js) didn't return a Buffer or String\\n    at /Users/stephen/codefellows/401/labs/lab42/full-stack-snacks/full-stack-snacks/node_modules/next/node_modules/webpack/lib/NormalModule.js:333:18\\n    at /Users/stephen/codefellows/401/labs/lab42/full-stack-snacks/full-stack-snacks/node_modules/loader-runner/lib/LoaderRunner.js:373:3\\n    at iterateNormalLoaders (/Users/stephen/codefellows/401/labs/lab42/full-stack-snacks/full-stack-snacks/node_modules/loader-runner/lib/LoaderRunner.js:214:10)\\n    at iterateNormalLoaders (/Users/stephen/codefellows/401/labs/lab42/full-stack-snacks/full-stack-snacks/node_modules/loader-runner/lib/LoaderRunner.js:221:10)\\n    at /Users/stephen/codefellows/401/labs/lab42/full-stack-snacks/full-stack-snacks/node_modules/loader-runner/lib/LoaderRunner.js:236:3\\n    at runSyncOrAsync (/Users/stephen/codefellows/401/labs/lab42/full-stack-snacks/full-stack-snacks/node_modules/loader-runner/lib/LoaderRunner.js:124:12)\\n    at iterateNormalLoaders (/Users/stephen/codefellows/401/labs/lab42/full-stack-snacks/full-stack-snacks/node_modules/loader-runner/lib/LoaderRunner.js:232:2)\\n    at Array.<anonymous> (/Users/stephen/codefellows/401/labs/lab42/full-stack-snacks/full-stack-snacks/node_modules/loader-runner/lib/LoaderRunner.js:205:4)\\n    at Storage.finished (/Users/stephen/codefellows/401/labs/lab42/full-stack-snacks/full-stack-snacks/node_modules/enhanced-resolve/lib/CachedInputFileSystem.js:55:16)\\n    at /Users/stephen/codefellows/401/labs/lab42/full-stack-snacks/full-stack-snacks/node_modules/enhanced-resolve/lib/CachedInputFileSystem.js:91:9\")},Fuct:function(e,n,s){var a=s(\"0T/a\"),t=s(\"dwSY\");a(a.G+a.F*(parseInt!=t),{parseInt:t})},RQzK:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/src\",function(){return s(\"taSG\")}])},VKpo:function(e,n,s){s(\"Fuct\"),e.exports=s(\"p9MR\").parseInt},Yzr4:function(e,n,s){var a=s(\"0T/a\"),t=s(\"5foh\"),r=s(\"14Ie\"),l=s(\"cCpf\"),o=\"[\"+l+\"]\",c=RegExp(\"^\"+o+o+\"*\"),u=RegExp(o+o+\"*$\"),i=function(e,n,s){var t={},o=r((function(){return!!l[e]()||\"\\u200b\\x85\"!=\"\\u200b\\x85\"[e]()})),c=t[e]=o?n(d):l[e];s&&(t[s]=c),a(a.P+a.F*o,\"String\",t)},d=i.trim=function(e,n){return e=String(t(e)),1&n&&(e=e.replace(c,\"\")),2&n&&(e=e.replace(u,\"\")),e};e.exports=i},a59Y:function(e,n,s){\"use strict\";s.r(n),s.d(n,\"default\",(function(){return y}));var a=s(\"6BQ9\"),t=s.n(a),r=s(\"ln6h\"),l=s.n(r),o=s(\"0iUn\"),c=s(\"sLSF\"),u=s(\"MI3g\"),i=s(\"a7VT\"),d=s(\"AT/M\"),f=s(\"Tit0\"),k=s(\"q1tI\"),h=s.n(k),b=s(\"vDqi\"),p=s.n(b),m=s(\"Y3F2\"),w=(s(\"EQZF\"),s(\"Ty5D\")),v=s(\"55Ip\"),g=s(\"qczZ\"),j=s(\"jnHE\"),S=(s(\"0gV5\"),h.a.createElement),y=function(e){function n(e){var s;return Object(o.a)(this,n),(s=Object(u.a)(this,Object(i.a)(n).call(this,e))).state={accessToken:\"\",refreshToken:\"\",snacks:null},s.renderSnackDetail=s.renderSnackDetail.bind(Object(d.a)(s)),s.formHandler=s.formHandler.bind(Object(d.a)(s)),s.deleteHandler=s.deleteHandler.bind(Object(d.a)(s)),s.updateHandler=s.updateHandler.bind(Object(d.a)(s)),s.loginHandler=s.loginHandler.bind(Object(d.a)(s)),s}return Object(f.a)(n,e),Object(c.a)(n,[{key:\"loginHandler\",value:function(e){var n,s,a,t;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.access,s=e.refresh,this.setState({accessToken:n,refreshToken:s}),r.prev=2,a={headers:{Authorization:\"Bearer \".concat(this.state.accessToken)}},r.next=6,l.a.awrap(p.a.get(\"http://167.172.203.221:8000/api/v1/\",a));case 6:t=r.sent,console.log(t.data),this.setState({snacks:t.data}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(2),console.error(\"ruhroh\");case 14:case\"end\":return r.stop()}}),null,this,[[2,11]])}},{key:\"renderSnackDetail\",value:function(e){if(!this.state.accessToken)return S(w.a,{to:\"/\"});var n=t()(e.match.params.id),s=this.state.snacks&&this.state.snacks.find((function(e){return e.id===n}));return console.log(\"trying to render {snack}: \",s),s?S(g.default,{snack:s,doneHandler:this.updateHandler,deleteHandler:this.deleteHandler}):S(w.a,{to:\"/\"})}},{key:\"formHandler\",value:function(e){var n,s;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:n=e,(s=this.state.snacks).push(n),this.setState({snacks:s});case 4:case\"end\":return a.stop()}}),null,this)}},{key:\"updateHandler\",value:function(e){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:console.log(\"input update: \",e),this.setState({snacks:this.state.snacks.map((function(n){return n.id===e.id?e:n}))});case 2:case\"end\":return n.stop()}}),null,this)}},{key:\"deleteHandler\",value:function(e){var n,s;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:n=e.target.value,console.log(\"should be id: \",n),s=this.state.snacks.filter((function(e){return e.id!==Number(n)})),this.setState({snacks:s});case 4:case\"end\":return a.stop()}}),null,this)}},{key:\"render\",value:function(){return S(v.a,null,S(\"h1\",null,\"Hello World\"),S(w.d,null,S(w.b,{exact:!0,path:\"/\"},this.state.snacks?S(j.default,{snacks:this.state.snacks,doneHandler:this.formHandler}):S(m.default,{onSuccess:this.loginHandler})),S(w.b,{path:\"/:id\",render:this.renderSnackDetail})))}}]),n}(h.a.Component)},cCpf:function(e,n){e.exports=\"\\t\\n\\v\\f\\r \\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029\\ufeff\"},dwSY:function(e,n,s){var a=s(\"2jw7\").parseInt,t=s(\"Yzr4\").trim,r=s(\"cCpf\"),l=/^[-+]?0[xX]/;e.exports=8!==a(r+\"08\")||22!==a(r+\"0x16\")?function(e,n){var s=t(String(e),3);return a(s,n>>>0||(l.test(s)?16:10))}:a},jnHE:function(e,n,s){\"use strict\";s.r(n);var a=s(\"q1tI\"),t=s.n(a),r=s(\"55Ip\"),l=s(\"0gV5\"),o=t.a.createElement;function c(e){return o(\"li\",null,o(r.b,{to:\"/\".concat(e.snack.id)},o(\"p\",null,e.snack.title)))}n.default=function(e){return o(t.a.Fragment,null,o(\"ul\",null,e.snacks.map((function(e){return o(c,{key:e.id,snack:e})}))),o(l.default,{name:\"\",desc:\"\",doneHandler:e.doneHandler}))}},qczZ:function(e,n,s){\"use strict\";s.r(n);var a=s(\"q1tI\"),t=s.n(a),r=s(\"55Ip\"),l=s(\"0gV5\"),o=t.a.createElement;n.default=function(e){return o(t.a.Fragment,null,o(r.b,{to:\"/\"},\"Home\"),o(\"p\",null,\"ID: \",e.snack.id),o(\"p\",null,\"SNACK: \",e.snack.title),o(\"p\",null,\"DESCRIPTION: \",e.snack.description),o(\"button\",{onClick:e.deleteHandler,value:e.snack.id},\"delete\"),o(l.default,{idNum:e.snack.id,name:e.snack.title,desc:e.snack.description,doneHandler:e.doneHandler}))}},taSG:function(e,n,s){\"use strict\";s.r(n);var a=s(\"q1tI\"),t=s.n(a),r=s(\"i8i4\"),l=s.n(r),o=(s(\"xueu\"),s(\"a59Y\")),c=s(\"4Smr\"),u=t.a.createElement;l.a.render(u(o.default,null),document.getElementById(\"root\")),c.unregister()},xueu:function(e,n){throw new Error(\"Module build failed: Error: Final loader (./node_modules/next/dist/build/webpack/loaders/error-loader.js) didn't return a Buffer or String\\n    at /Users/stephen/codefellows/401/labs/lab42/full-stack-snacks/full-stack-snacks/node_modules/next/node_modules/webpack/lib/NormalModule.js:333:18\\n    at /Users/stephen/codefellows/401/labs/lab42/full-stack-snacks/full-stack-snacks/node_modules/loader-runner/lib/LoaderRunner.js:373:3\\n    at iterateNormalLoaders (/Users/stephen/codefellows/401/labs/lab42/full-stack-snacks/full-stack-snacks/node_modules/loader-runner/lib/LoaderRunner.js:214:10)\\n    at iterateNormalLoaders (/Users/stephen/codefellows/401/labs/lab42/full-stack-snacks/full-stack-snacks/node_modules/loader-runner/lib/LoaderRunner.js:221:10)\\n    at /Users/stephen/codefellows/401/labs/lab42/full-stack-snacks/full-stack-snacks/node_modules/loader-runner/lib/LoaderRunner.js:236:3\\n    at runSyncOrAsync (/Users/stephen/codefellows/401/labs/lab42/full-stack-snacks/full-stack-snacks/node_modules/loader-runner/lib/LoaderRunner.js:124:12)\\n    at iterateNormalLoaders (/Users/stephen/codefellows/401/labs/lab42/full-stack-snacks/full-stack-snacks/node_modules/loader-runner/lib/LoaderRunner.js:232:2)\\n    at Array.<anonymous> (/Users/stephen/codefellows/401/labs/lab42/full-stack-snacks/full-stack-snacks/node_modules/loader-runner/lib/LoaderRunner.js:205:4)\\n    at Storage.finished (/Users/stephen/codefellows/401/labs/lab42/full-stack-snacks/full-stack-snacks/node_modules/enhanced-resolve/lib/CachedInputFileSystem.js:55:16)\\n    at /Users/stephen/codefellows/401/labs/lab42/full-stack-snacks/full-stack-snacks/node_modules/enhanced-resolve/lib/CachedInputFileSystem.js:91:9\")}},[[\"RQzK\",0,2,1,3,4,5]]]);"}