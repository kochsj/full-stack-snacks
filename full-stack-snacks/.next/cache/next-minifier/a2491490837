{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{\"6BQ9\":function(e,n,a){e.exports=a(\"VKpo\")},EIrK:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/src/App\",function(){return a(\"a59Y\")}])},EQZF:function(e,n){throw new Error(\"Module build failed: Error: Final loader (./node_modules/next/dist/build/webpack/loaders/error-loader.js) didn't return a Buffer or String\\n    at /Users/stephen/codefellows/401/labs/lab42/full-stack-snacks/full-stack-snacks/node_modules/next/node_modules/webpack/lib/NormalModule.js:333:18\\n    at /Users/stephen/codefellows/401/labs/lab42/full-stack-snacks/full-stack-snacks/node_modules/loader-runner/lib/LoaderRunner.js:373:3\\n    at iterateNormalLoaders (/Users/stephen/codefellows/401/labs/lab42/full-stack-snacks/full-stack-snacks/node_modules/loader-runner/lib/LoaderRunner.js:214:10)\\n    at iterateNormalLoaders (/Users/stephen/codefellows/401/labs/lab42/full-stack-snacks/full-stack-snacks/node_modules/loader-runner/lib/LoaderRunner.js:221:10)\\n    at /Users/stephen/codefellows/401/labs/lab42/full-stack-snacks/full-stack-snacks/node_modules/loader-runner/lib/LoaderRunner.js:236:3\\n    at runSyncOrAsync (/Users/stephen/codefellows/401/labs/lab42/full-stack-snacks/full-stack-snacks/node_modules/loader-runner/lib/LoaderRunner.js:124:12)\\n    at iterateNormalLoaders (/Users/stephen/codefellows/401/labs/lab42/full-stack-snacks/full-stack-snacks/node_modules/loader-runner/lib/LoaderRunner.js:232:2)\\n    at Array.<anonymous> (/Users/stephen/codefellows/401/labs/lab42/full-stack-snacks/full-stack-snacks/node_modules/loader-runner/lib/LoaderRunner.js:205:4)\\n    at Storage.finished (/Users/stephen/codefellows/401/labs/lab42/full-stack-snacks/full-stack-snacks/node_modules/enhanced-resolve/lib/CachedInputFileSystem.js:55:16)\\n    at /Users/stephen/codefellows/401/labs/lab42/full-stack-snacks/full-stack-snacks/node_modules/enhanced-resolve/lib/CachedInputFileSystem.js:91:9\")},Fuct:function(e,n,a){var s=a(\"0T/a\"),t=a(\"dwSY\");s(s.G+s.F*(parseInt!=t),{parseInt:t})},VKpo:function(e,n,a){a(\"Fuct\"),e.exports=a(\"p9MR\").parseInt},Yzr4:function(e,n,a){var s=a(\"0T/a\"),t=a(\"5foh\"),r=a(\"14Ie\"),l=a(\"cCpf\"),c=\"[\"+l+\"]\",o=RegExp(\"^\"+c+c+\"*\"),u=RegExp(c+c+\"*$\"),d=function(e,n,a){var t={},c=r((function(){return!!l[e]()||\"\\u200b\\x85\"!=\"\\u200b\\x85\"[e]()})),o=t[e]=c?n(i):l[e];a&&(t[a]=o),s(s.P+s.F*c,\"String\",t)},i=d.trim=function(e,n){return e=String(t(e)),1&n&&(e=e.replace(o,\"\")),2&n&&(e=e.replace(u,\"\")),e};e.exports=d},a59Y:function(e,n,a){\"use strict\";a.r(n),a.d(n,\"default\",(function(){return S}));var s=a(\"6BQ9\"),t=a.n(s),r=a(\"ln6h\"),l=a.n(r),c=a(\"0iUn\"),o=a(\"sLSF\"),u=a(\"MI3g\"),d=a(\"a7VT\"),i=a(\"AT/M\"),f=a(\"Tit0\"),k=a(\"q1tI\"),p=a.n(k),h=a(\"vDqi\"),b=a.n(h),m=a(\"Y3F2\"),v=(a(\"EQZF\"),a(\"Ty5D\")),w=a(\"55Ip\"),H=a(\"qczZ\"),g=a(\"jnHE\"),j=(a(\"0gV5\"),p.a.createElement),S=function(e){function n(e){var a;return Object(c.a)(this,n),(a=Object(u.a)(this,Object(d.a)(n).call(this,e))).state={accessToken:\"\",refreshToken:\"\",snacks:null},a.renderSnackDetail=a.renderSnackDetail.bind(Object(i.a)(a)),a.formHandler=a.formHandler.bind(Object(i.a)(a)),a.deleteHandler=a.deleteHandler.bind(Object(i.a)(a)),a.updateHandler=a.updateHandler.bind(Object(i.a)(a)),a.loginHandler=a.loginHandler.bind(Object(i.a)(a)),a}return Object(f.a)(n,e),Object(o.a)(n,[{key:\"loginHandler\",value:function(e){var n,a,s,t;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.access,a=e.refresh,this.setState({accessToken:n,refreshToken:a}),r.prev=2,s={headers:{Authorization:\"Bearer \".concat(this.state.accessToken)}},r.next=6,l.a.awrap(b.a.get(\"http://167.172.203.221:8000/api/v1/\",s));case 6:t=r.sent,console.log(t.data),this.setState({snacks:t.data}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(2),console.error(\"ruhroh\");case 14:case\"end\":return r.stop()}}),null,this,[[2,11]])}},{key:\"renderSnackDetail\",value:function(e){if(!this.state.accessToken)return j(v.a,{to:\"/\"});var n=t()(e.match.params.id),a=this.state.snacks&&this.state.snacks.find((function(e){return e.id===n}));return console.log(\"trying to render {snack}: \",a),a?j(H.default,{snack:a,doneHandler:this.updateHandler,deleteHandler:this.deleteHandler}):j(v.a,{to:\"/\"})}},{key:\"formHandler\",value:function(e){var n,a;return l.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:n=e,(a=this.state.snacks).push(n),this.setState({snacks:a});case 4:case\"end\":return s.stop()}}),null,this)}},{key:\"updateHandler\",value:function(e){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:console.log(\"input update: \",e),this.setState({snacks:this.state.snacks.map((function(n){return n.id===e.id?e:n}))});case 2:case\"end\":return n.stop()}}),null,this)}},{key:\"deleteHandler\",value:function(e){var n,a;return l.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:n=e.target.value,console.log(\"should be id: \",n),a=this.state.snacks.filter((function(e){return e.id!==Number(n)})),this.setState({snacks:a});case 4:case\"end\":return s.stop()}}),null,this)}},{key:\"render\",value:function(){return j(w.a,null,j(\"h1\",null,\"Hello World\"),j(v.d,null,j(v.b,{exact:!0,path:\"/\"},this.state.snacks?j(g.default,{snacks:this.state.snacks,doneHandler:this.formHandler}):j(m.default,{onSuccess:this.loginHandler})),j(v.b,{path:\"/:id\",render:this.renderSnackDetail})))}}]),n}(p.a.Component)},cCpf:function(e,n){e.exports=\"\\t\\n\\v\\f\\r \\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029\\ufeff\"},dwSY:function(e,n,a){var s=a(\"2jw7\").parseInt,t=a(\"Yzr4\").trim,r=a(\"cCpf\"),l=/^[-+]?0[xX]/;e.exports=8!==s(r+\"08\")||22!==s(r+\"0x16\")?function(e,n){var a=t(String(e),3);return s(a,n>>>0||(l.test(a)?16:10))}:s},jnHE:function(e,n,a){\"use strict\";a.r(n);var s=a(\"q1tI\"),t=a.n(s),r=a(\"55Ip\"),l=a(\"0gV5\"),c=t.a.createElement;function o(e){return c(\"li\",null,c(r.b,{to:\"/\".concat(e.snack.id)},c(\"p\",null,e.snack.title)))}n.default=function(e){return c(t.a.Fragment,null,c(\"ul\",null,e.snacks.map((function(e){return c(o,{key:e.id,snack:e})}))),c(l.default,{name:\"\",desc:\"\",doneHandler:e.doneHandler}))}},qczZ:function(e,n,a){\"use strict\";a.r(n);var s=a(\"q1tI\"),t=a.n(s),r=a(\"55Ip\"),l=a(\"0gV5\"),c=t.a.createElement;n.default=function(e){return c(t.a.Fragment,null,c(r.b,{to:\"/\"},\"Home\"),c(\"p\",null,\"ID: \",e.snack.id),c(\"p\",null,\"SNACK: \",e.snack.title),c(\"p\",null,\"DESCRIPTION: \",e.snack.description),c(\"button\",{onClick:e.deleteHandler,value:e.snack.id},\"delete\"),c(l.default,{idNum:e.snack.id,name:e.snack.title,desc:e.snack.description,doneHandler:e.doneHandler}))}}},[[\"EIrK\",0,2,1,3,4,5]]]);"}